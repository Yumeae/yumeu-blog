name = "astro-cloudflare-blog"
main = "./src/functions/_worker.ts"
compatibility_date = "2025-02-05"
compatibility_flags = ["nodejs_compat"]

[vars]
ACCESS_AUD = ""
ACCESS_TEAM_DOMAIN = ""
ACCESS_EMAIL_ALLOWLIST = ""
MEDIA_PUBLIC_BASE_URL = ""
MEDIA_R2_PREFIX = "media"

[[kv_namespaces]]
binding = "CONTENT_KV"
id = ""
preview_id = ""

[[r2_buckets]]
binding = "MEDIA_BUCKET"
bucket_name = ""
preview_bucket_name = ""

[[analytics_engine_datasets]]
binding = "WORKERS_ANALYTICS"
dataset = "astro_blog_events"

[build]
command = "pnpm run build"
cwd = "."
watch_dir = "src"

[build.upload]
format = "modules"
main = "./.astro/cloudflare/_worker.mjs"
